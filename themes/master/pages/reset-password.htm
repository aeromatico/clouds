title = "Restablecer Contraseña"
layout = "default"
url = "/reset-password"

[session]
security = "guest"
redirect = "dashboard"

[resetPassword]
isDefault = 1
==

<div class="min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8">
        <div>
            <h2 class="mt-6 text-center text-3xl font-bold text-gray-900 dark:text-white">
                Restablecer contraseña
            </h2>
            <p class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400">
                Ingresa tu nueva contraseña
            </p>
        </div>

        <form
            data-request="resetPassword::onResetPassword"
            data-request-success="Alpine.store('toast').success('Contraseña actualizada correctamente'); setTimeout(() => window.location.href = '/login', 1500)"
            data-request-error="Alpine.store('toast').error(message)"
            class="space-y-6"
        >
            <input type="hidden" name="token" value="{{ resetPassword.token }}" />
            <input type="hidden" name="email" value="{{ resetPassword.email }}" />

            <div>
                <label for="password" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                    Nueva Contraseña
                </label>
                <input
                    id="password"
                    name="password"
                    type="password"
                    autocomplete="new-password"
                    required
                    class="input input-bordered w-full"
                    placeholder="••••••••"
                />
            </div>

            <div>
                <label for="password_confirmation" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                    Confirmar Contraseña
                </label>
                <input
                    id="password_confirmation"
                    name="password_confirmation"
                    type="password"
                    autocomplete="new-password"
                    required
                    class="input input-bordered w-full"
                    placeholder="••••••••"
                />
            </div>

            <div>
                <button
                    type="submit"
                    class="btn btn-primary w-full"
                    data-attach-loading
                >
                    <i class="fas fa-key mr-2"></i>
                    Restablecer contraseña
                </button>
            </div>

            <div class="text-center">
                <a href="/login" class="text-sm text-primary hover:underline">
                    <i class="fas fa-arrow-left mr-1"></i>
                    Volver al inicio de sesión
                </a>
            </div>
        </form>
    </div>
</div>
